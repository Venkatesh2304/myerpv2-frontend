(globalThis.TURBOPACK||(globalThis.TURBOPACK=[])).push(["object"==typeof document?document.currentScript:void 0,8812,e=>{"use strict";var t=e.i(43083),a=e.i(64167),n=e.i(90999);function r(e){let r,l,i,s,o=(0,a.c)(8);return o[0]!==e?({className:r,...l}=e,o[0]=e,o[1]=r,o[2]=l):(r=o[1],l=o[2]),o[3]!==r?(i=(0,n.cn)("bg-card text-card-foreground flex flex-col gap-6 rounded-xl border py-6 shadow-sm",r),o[3]=r,o[4]=i):i=o[4],o[5]!==l||o[6]!==i?(s=(0,t.jsx)("div",{"data-slot":"card",className:i,...l}),o[5]=l,o[6]=i,o[7]=s):s=o[7],s}function l(e){let r,l,i,s,o=(0,a.c)(8);return o[0]!==e?({className:r,...l}=e,o[0]=e,o[1]=r,o[2]=l):(r=o[1],l=o[2]),o[3]!==r?(i=(0,n.cn)("@container/card-header grid auto-rows-min grid-rows-[auto_auto] items-start gap-2 px-6 has-data-[slot=card-action]:grid-cols-[1fr_auto] [.border-b]:pb-6",r),o[3]=r,o[4]=i):i=o[4],o[5]!==l||o[6]!==i?(s=(0,t.jsx)("div",{"data-slot":"card-header",className:i,...l}),o[5]=l,o[6]=i,o[7]=s):s=o[7],s}function i(e){let r,l,i,s,o=(0,a.c)(8);return o[0]!==e?({className:r,...l}=e,o[0]=e,o[1]=r,o[2]=l):(r=o[1],l=o[2]),o[3]!==r?(i=(0,n.cn)("leading-none font-semibold",r),o[3]=r,o[4]=i):i=o[4],o[5]!==l||o[6]!==i?(s=(0,t.jsx)("div",{"data-slot":"card-title",className:i,...l}),o[5]=l,o[6]=i,o[7]=s):s=o[7],s}function s(e){let r,l,i,s,o=(0,a.c)(8);return o[0]!==e?({className:r,...l}=e,o[0]=e,o[1]=r,o[2]=l):(r=o[1],l=o[2]),o[3]!==r?(i=(0,n.cn)("text-muted-foreground text-sm",r),o[3]=r,o[4]=i):i=o[4],o[5]!==l||o[6]!==i?(s=(0,t.jsx)("div",{"data-slot":"card-description",className:i,...l}),o[5]=l,o[6]=i,o[7]=s):s=o[7],s}function o(e){let r,l,i,s,o=(0,a.c)(8);return o[0]!==e?({className:r,...l}=e,o[0]=e,o[1]=r,o[2]=l):(r=o[1],l=o[2]),o[3]!==r?(i=(0,n.cn)("px-6",r),o[3]=r,o[4]=i):i=o[4],o[5]!==l||o[6]!==i?(s=(0,t.jsx)("div",{"data-slot":"card-content",className:i,...l}),o[5]=l,o[6]=i,o[7]=s):s=o[7],s}e.s(["Card",()=>r,"CardContent",()=>o,"CardDescription",()=>s,"CardHeader",()=>l,"CardTitle",()=>i])},34535,e=>{"use strict";var t=e.i(55822),a=e.i(68649),n=e.i(51201),r=e.i(43083),l=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"].reduce((e,a)=>{let l=(0,n.createSlot)(`Primitive.${a}`),i=t.forwardRef((e,t)=>{let{asChild:n,...i}=e;return"undefined"!=typeof window&&(window[Symbol.for("radix-ui")]=!0),(0,r.jsx)(n?l:a,{...i,ref:t})});return i.displayName=`Primitive.${a}`,{...e,[a]:i}},{});function i(e,t){e&&a.flushSync(()=>e.dispatchEvent(t))}e.s(["Primitive",()=>l,"dispatchDiscreteCustomEvent",()=>i])},84959,e=>{"use strict";var t=e.i(43083),a=e.i(64167),n=e.i(90999);function r(e){let r,l,i,s,o,c=(0,a.c)(10);return c[0]!==e?({className:r,type:i,...l}=e,c[0]=e,c[1]=r,c[2]=l,c[3]=i):(r=c[1],l=c[2],i=c[3]),c[4]!==r?(s=(0,n.cn)("file:text-foreground placeholder:text-muted-foreground selection:bg-primary selection:text-primary-foreground dark:bg-input/30 border-input h-9 w-full min-w-0 rounded-md border bg-transparent px-3 py-1 text-base shadow-xs transition-[color,box-shadow] outline-none file:inline-flex file:h-7 file:border-0 file:bg-transparent file:text-sm file:font-medium disabled:pointer-events-none disabled:cursor-not-allowed disabled:opacity-50 md:text-sm","focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:ring-[3px]","aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive",r),c[4]=r,c[5]=s):s=c[5],c[6]!==l||c[7]!==s||c[8]!==i?(o=(0,t.jsx)("input",{type:i,"data-slot":"input",className:s,...l}),c[6]=l,c[7]=s,c[8]=i,c[9]=o):o=c[9],o}e.s(["Input",()=>r])},65851,e=>{"use strict";var t=e.i(43083),a=e.i(64167),n=e.i(55822),r=e.i(34535),l=n.forwardRef((e,a)=>(0,t.jsx)(r.Primitive.label,{...e,ref:a,onMouseDown:t=>{t.target.closest("button, input, select, textarea")||(e.onMouseDown?.(t),!t.defaultPrevented&&t.detail>1&&t.preventDefault())}}));l.displayName="Label";var i=e.i(90999);function s(e){let n,r,s,o,c=(0,a.c)(8);return c[0]!==e?({className:n,...r}=e,c[0]=e,c[1]=n,c[2]=r):(n=c[1],r=c[2]),c[3]!==n?(s=(0,i.cn)("flex items-center gap-2 text-sm leading-none font-medium select-none group-data-[disabled=true]:pointer-events-none group-data-[disabled=true]:opacity-50 peer-disabled:cursor-not-allowed peer-disabled:opacity-50",n),c[3]=n,c[4]=s):s=c[4],c[5]!==r||c[6]!==s?(o=(0,t.jsx)(l,{"data-slot":"label",className:s,...r}),c[5]=r,c[6]=s,c[7]=o):o=c[7],o}e.s(["Label",()=>s],65851)},20144,(e,t,a)=>{!function(){"use strict";var a={}.hasOwnProperty;function n(){for(var e="",t=0;t<arguments.length;t++){var l=arguments[t];l&&(e=r(e,function(e){if("string"==typeof e||"number"==typeof e)return e;if("object"!=typeof e)return"";if(Array.isArray(e))return n.apply(null,e);if(e.toString!==Object.prototype.toString&&!e.toString.toString().includes("[native code]"))return e.toString();var t="";for(var l in e)a.call(e,l)&&e[l]&&(t=r(t,l));return t}(l)))}return e}function r(e,t){return t?e?e+" "+t:e+t:e}if(t.exports)n.default=n,t.exports=n;else if("function"==typeof define&&"object"==typeof define.amd&&define.amd)void 0!==n&&e.v(n);else window.classNames=n}()},42422,28001,e=>{"use strict";var t=e.i(43083),a=e.i(55822),n=e.i(64167),r=e.i(65249),l=e.i(44693),i=e.i(14421),s=e.i(79772),o=e.i(28274),c=e.i(47283),d=e.i(25974),u=e.i(59268),m=e.i(10802),f=e=>{var t;let n,r,{present:i,children:s}=e,o=function(e){var t,n;let[r,l]=a.useState(),i=a.useRef(null),s=a.useRef(e),o=a.useRef("none"),[c,d]=(t=e?"mounted":"unmounted",n={mounted:{UNMOUNT:"unmounted",ANIMATION_OUT:"unmountSuspended"},unmountSuspended:{MOUNT:"mounted",ANIMATION_END:"unmounted"},unmounted:{MOUNT:"mounted"}},a.useReducer((e,t)=>n[e][t]??e,t));return a.useEffect(()=>{let e=p(i.current);o.current="mounted"===c?e:"none"},[c]),(0,m.useLayoutEffect)(()=>{let t=i.current,a=s.current;if(a!==e){let n=o.current,r=p(t);e?d("MOUNT"):"none"===r||t?.display==="none"?d("UNMOUNT"):a&&n!==r?d("ANIMATION_OUT"):d("UNMOUNT"),s.current=e}},[e,d]),(0,m.useLayoutEffect)(()=>{if(r){let e,t=r.ownerDocument.defaultView??window,a=a=>{let n=p(i.current).includes(CSS.escape(a.animationName));if(a.target===r&&n&&(d("ANIMATION_END"),!s.current)){let a=r.style.animationFillMode;r.style.animationFillMode="forwards",e=t.setTimeout(()=>{"forwards"===r.style.animationFillMode&&(r.style.animationFillMode=a)})}},n=e=>{e.target===r&&(o.current=p(i.current))};return r.addEventListener("animationstart",n),r.addEventListener("animationcancel",a),r.addEventListener("animationend",a),()=>{t.clearTimeout(e),r.removeEventListener("animationstart",n),r.removeEventListener("animationcancel",a),r.removeEventListener("animationend",a)}}d("ANIMATION_END")},[r,d]),{isPresent:["mounted","unmountSuspended"].includes(c),ref:a.useCallback(e=>{i.current=e?getComputedStyle(e):null,l(e)},[])}}(i),c="function"==typeof s?s({present:o.isPresent}):a.Children.only(s),d=(0,l.useComposedRefs)(o.ref,(t=c,(r=(n=Object.getOwnPropertyDescriptor(t.props,"ref")?.get)&&"isReactWarning"in n&&n.isReactWarning)?t.ref:(r=(n=Object.getOwnPropertyDescriptor(t,"ref")?.get)&&"isReactWarning"in n&&n.isReactWarning)?t.props.ref:t.props.ref||t.ref));return"function"==typeof s||o.isPresent?a.cloneElement(c,{ref:d}):null};function p(e){return e?.animationName||"none"}f.displayName="Presence";var h=e.i(34535),x=e.i(65946),g=e.i(31084),b=e.i(88765),v=e.i(51201),y="Dialog",[j,N]=(0,i.createContextScope)(y),[w,C]=j(y),S=e=>{let{__scopeDialog:n,children:r,open:l,defaultOpen:i,onOpenChange:c,modal:d=!0}=e,u=a.useRef(null),m=a.useRef(null),[f,p]=(0,o.useControllableState)({prop:l,defaultProp:i??!1,onChange:c,caller:y});return(0,t.jsx)(w,{scope:n,triggerRef:u,contentRef:m,contentId:(0,s.useId)(),titleId:(0,s.useId)(),descriptionId:(0,s.useId)(),open:f,onOpenChange:p,onOpenToggle:a.useCallback(()=>p(e=>!e),[p]),modal:d,children:r})};S.displayName=y;var T="DialogTrigger";a.forwardRef((e,a)=>{let{__scopeDialog:n,...i}=e,s=C(T,n),o=(0,l.useComposedRefs)(a,s.triggerRef);return(0,t.jsx)(h.Primitive.button,{type:"button","aria-haspopup":"dialog","aria-expanded":s.open,"aria-controls":s.contentId,"data-state":q(s.open),...i,ref:o,onClick:(0,r.composeEventHandlers)(e.onClick,s.onOpenToggle)})}).displayName=T;var R="DialogPortal",[_,D]=j(R,{forceMount:void 0}),O=e=>{let{__scopeDialog:n,forceMount:r,children:l,container:i}=e,s=C(R,n);return(0,t.jsx)(_,{scope:n,forceMount:r,children:a.Children.map(l,e=>(0,t.jsx)(f,{present:r||s.open,children:(0,t.jsx)(u.Portal,{asChild:!0,container:i,children:e})}))})};O.displayName=R;var I="DialogOverlay",E=a.forwardRef((e,a)=>{let n=D(I,e.__scopeDialog),{forceMount:r=n.forceMount,...l}=e,i=C(I,e.__scopeDialog);return i.modal?(0,t.jsx)(f,{present:r||i.open,children:(0,t.jsx)(M,{...l,ref:a})}):null});E.displayName=I;var P=(0,v.createSlot)("DialogOverlay.RemoveScroll"),M=a.forwardRef((e,a)=>{let{__scopeDialog:n,...r}=e,l=C(I,n);return(0,t.jsx)(g.RemoveScroll,{as:P,allowPinchZoom:!0,shards:[l.contentRef],children:(0,t.jsx)(h.Primitive.div,{"data-state":q(l.open),...r,ref:a,style:{pointerEvents:"auto",...r.style}})})}),k="DialogContent",F=a.forwardRef((e,a)=>{let n=D(k,e.__scopeDialog),{forceMount:r=n.forceMount,...l}=e,i=C(k,e.__scopeDialog);return(0,t.jsx)(f,{present:r||i.open,children:i.modal?(0,t.jsx)(A,{...l,ref:a}):(0,t.jsx)(L,{...l,ref:a})})});F.displayName=k;var A=a.forwardRef((e,n)=>{let i=C(k,e.__scopeDialog),s=a.useRef(null),o=(0,l.useComposedRefs)(n,i.contentRef,s);return a.useEffect(()=>{let e=s.current;if(e)return(0,b.hideOthers)(e)},[]),(0,t.jsx)(U,{...e,ref:o,trapFocus:i.open,disableOutsidePointerEvents:!0,onCloseAutoFocus:(0,r.composeEventHandlers)(e.onCloseAutoFocus,e=>{e.preventDefault(),i.triggerRef.current?.focus()}),onPointerDownOutside:(0,r.composeEventHandlers)(e.onPointerDownOutside,e=>{let t=e.detail.originalEvent,a=0===t.button&&!0===t.ctrlKey;(2===t.button||a)&&e.preventDefault()}),onFocusOutside:(0,r.composeEventHandlers)(e.onFocusOutside,e=>e.preventDefault())})}),L=a.forwardRef((e,n)=>{let r=C(k,e.__scopeDialog),l=a.useRef(!1),i=a.useRef(!1);return(0,t.jsx)(U,{...e,ref:n,trapFocus:!1,disableOutsidePointerEvents:!1,onCloseAutoFocus:t=>{e.onCloseAutoFocus?.(t),t.defaultPrevented||(l.current||r.triggerRef.current?.focus(),t.preventDefault()),l.current=!1,i.current=!1},onInteractOutside:t=>{e.onInteractOutside?.(t),t.defaultPrevented||(l.current=!0,"pointerdown"===t.detail.originalEvent.type&&(i.current=!0));let a=t.target;r.triggerRef.current?.contains(a)&&t.preventDefault(),"focusin"===t.detail.originalEvent.type&&i.current&&t.preventDefault()}})}),U=a.forwardRef((e,n)=>{let{__scopeDialog:r,trapFocus:i,onOpenAutoFocus:s,onCloseAutoFocus:o,...u}=e,m=C(k,r),f=a.useRef(null),p=(0,l.useComposedRefs)(n,f);return(0,x.useFocusGuards)(),(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(d.FocusScope,{asChild:!0,loop:!0,trapped:i,onMountAutoFocus:s,onUnmountAutoFocus:o,children:(0,t.jsx)(c.DismissableLayer,{role:"dialog",id:m.contentId,"aria-describedby":m.descriptionId,"aria-labelledby":m.titleId,"data-state":q(m.open),...u,ref:p,onDismiss:()=>m.onOpenChange(!1)})}),(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(Y,{titleId:m.titleId}),(0,t.jsx)(G,{contentRef:f,descriptionId:m.descriptionId})]})]})}),H="DialogTitle",B=a.forwardRef((e,a)=>{let{__scopeDialog:n,...r}=e,l=C(H,n);return(0,t.jsx)(h.Primitive.h2,{id:l.titleId,...r,ref:a})});B.displayName=H;var W="DialogDescription";a.forwardRef((e,a)=>{let{__scopeDialog:n,...r}=e,l=C(W,n);return(0,t.jsx)(h.Primitive.p,{id:l.descriptionId,...r,ref:a})}).displayName=W;var $="DialogClose",z=a.forwardRef((e,a)=>{let{__scopeDialog:n,...l}=e,i=C($,n);return(0,t.jsx)(h.Primitive.button,{type:"button",...l,ref:a,onClick:(0,r.composeEventHandlers)(e.onClick,()=>i.onOpenChange(!1))})});function q(e){return e?"open":"closed"}z.displayName=$;var V="DialogTitleWarning",[J,K]=(0,i.createContext)(V,{contentName:k,titleName:H,docsSlug:"dialog"}),Y=({titleId:e})=>{let t=K(V),n=`\`${t.contentName}\` requires a \`${t.titleName}\` for the component to be accessible for screen reader users.

If you want to hide the \`${t.titleName}\`, you can wrap it with our VisuallyHidden component.

For more information, see https://radix-ui.com/primitives/docs/components/${t.docsSlug}`;return a.useEffect(()=>{e&&(document.getElementById(e)||console.error(n))},[n,e]),null},G=({contentRef:e,descriptionId:t})=>{let n=K("DialogDescriptionWarning"),r=`Warning: Missing \`Description\` or \`aria-describedby={undefined}\` for {${n.contentName}}.`;return a.useEffect(()=>{let a=e.current?.getAttribute("aria-describedby");t&&a&&(document.getElementById(t)||console.warn(r))},[r,e,t]),null};let Z=(0,e.i(78253).default)("x",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]);var Q=e.i(90999);function X(e){let a,r,l=(0,n.c)(4);return l[0]!==e?({...a}=e,l[0]=e,l[1]=a):a=l[1],l[2]!==a?(r=(0,t.jsx)(S,{"data-slot":"dialog",...a}),l[2]=a,l[3]=r):r=l[3],r}function ee(e){let a,r,l=(0,n.c)(4);return l[0]!==e?({...a}=e,l[0]=e,l[1]=a):a=l[1],l[2]!==a?(r=(0,t.jsx)(O,{"data-slot":"dialog-portal",...a}),l[2]=a,l[3]=r):r=l[3],r}function et(e){let a,r,l,i,s=(0,n.c)(8);return s[0]!==e?({className:a,...r}=e,s[0]=e,s[1]=a,s[2]=r):(a=s[1],r=s[2]),s[3]!==a?(l=(0,Q.cn)("data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 fixed inset-0 z-50 bg-black/50",a),s[3]=a,s[4]=l):l=s[4],s[5]!==r||s[6]!==l?(i=(0,t.jsx)(E,{"data-slot":"dialog-overlay",className:l,...r}),s[5]=r,s[6]=l,s[7]=i):i=s[7],i}function ea(e){let a,r,l,i,s,o,c,d,u=(0,n.c)(15);u[0]!==e?({className:r,children:a,showCloseButton:i,...l}=e,u[0]=e,u[1]=a,u[2]=r,u[3]=l,u[4]=i):(a=u[1],r=u[2],l=u[3],i=u[4]);let m=void 0===i||i;return u[5]===Symbol.for("react.memo_cache_sentinel")?(s=(0,t.jsx)(et,{}),u[5]=s):s=u[5],u[6]!==r?(o=(0,Q.cn)("bg-background data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 fixed top-[50%] left-[50%] z-50 grid w-full max-w-[calc(100%-2rem)] translate-x-[-50%] translate-y-[-50%] gap-4 rounded-lg border p-6 shadow-lg duration-200 sm:max-w-lg",r),u[6]=r,u[7]=o):o=u[7],u[8]!==m?(c=m&&(0,t.jsxs)(z,{"data-slot":"dialog-close",className:"ring-offset-background focus:ring-ring data-[state=open]:bg-accent data-[state=open]:text-muted-foreground absolute top-4 right-4 rounded-xs opacity-70 transition-opacity hover:opacity-100 focus:ring-2 focus:ring-offset-2 focus:outline-hidden disabled:pointer-events-none [&_svg]:pointer-events-none [&_svg]:shrink-0 [&_svg:not([class*='size-'])]:size-4",children:[(0,t.jsx)(Z,{}),(0,t.jsx)("span",{className:"sr-only",children:"Close"})]}),u[8]=m,u[9]=c):c=u[9],u[10]!==a||u[11]!==l||u[12]!==o||u[13]!==c?(d=(0,t.jsxs)(ee,{"data-slot":"dialog-portal",children:[s,(0,t.jsxs)(F,{"data-slot":"dialog-content",className:o,...l,children:[a,c]})]}),u[10]=a,u[11]=l,u[12]=o,u[13]=c,u[14]=d):d=u[14],d}function en(e){let a,r,l,i,s=(0,n.c)(8);return s[0]!==e?({className:a,...r}=e,s[0]=e,s[1]=a,s[2]=r):(a=s[1],r=s[2]),s[3]!==a?(l=(0,Q.cn)("flex flex-col gap-2 text-center sm:text-left",a),s[3]=a,s[4]=l):l=s[4],s[5]!==r||s[6]!==l?(i=(0,t.jsx)("div",{"data-slot":"dialog-header",className:l,...r}),s[5]=r,s[6]=l,s[7]=i):i=s[7],i}function er(e){let a,r,l,i,s=(0,n.c)(8);return s[0]!==e?({className:a,...r}=e,s[0]=e,s[1]=a,s[2]=r):(a=s[1],r=s[2]),s[3]!==a?(l=(0,Q.cn)("text-lg leading-none font-semibold",a),s[3]=a,s[4]=l):l=s[4],s[5]!==r||s[6]!==l?(i=(0,t.jsx)(B,{"data-slot":"dialog-title",className:l,...r}),s[5]=r,s[6]=l,s[7]=i):i=s[7],i}var el=e.i(84959),ei=e.i(53694),es=e.i(97077),eo=e.i(20144);function ec(e){let a,r,l,i,s=(0,n.c)(7),{size:o,className:c}=e,d=void 0===o?"md":o;return s[0]!==c||s[1]!==d?(a=(0,eo.default)("animate-spin text-muted-foreground",{sm:"h-4 w-4",md:"h-5 w-5",lg:"h-6 w-6"}[d],c),s[0]=c,s[1]=d,s[2]=a):a=s[2],s[3]===Symbol.for("react.memo_cache_sentinel")?(r=(0,t.jsx)("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),l=(0,t.jsx)("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8v4a4 4 0 00-4 4H4z"}),s[3]=r,s[4]=l):(r=s[3],l=s[4]),s[5]!==a?(i=(0,t.jsxs)("svg",{className:a,xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",role:"status","aria-label":"loading",children:[r,l]}),s[5]=a,s[6]=i):i=s[6],i}let ed=(0,a.createContext)(null);e.s(["CaptchaProvider",0,({children:e})=>{let[n,r]=(0,a.useState)(!1),[l,i]=(0,a.useState)(null),[s,o]=(0,a.useState)(null),[c,d]=(0,a.useState)(""),[u,m]=(0,a.useState)(null),[f,p]=(0,a.useState)("idle"),h=(0,a.useRef)(null),x=(0,a.useRef)(null),g=(0,a.useRef)(!1);(0,a.useEffect)(()=>{l&&(d(""),m(null))},[l]);let b=(0,a.useCallback)(async e=>{p("loading");try{s&&URL.revokeObjectURL(s);let t=(await es.default.post("/custom/captcha",{key:e},{responseType:"blob"})).data,a=URL.createObjectURL(t);o(a),p("idle")}catch(e){m(e?.message??"Failed to load captcha"),p("idle")}},[s]),v=(0,a.useCallback)((e,t)=>(r(!0),i(e),h.current=t,b(e),new Promise((e,t)=>{x.current={resolve:e,reject:t}})),[b]),y=e=>{e||(g.current||x.current?.reject(Error("Captcha cancelled")),d(""),m(null),p("idle"),o(null),i(null),h.current=null,x.current=null,r(!1),g.current=!1)},j=async e=>{e.preventDefault();let t=h.current,a=x.current;if(l&&t&&a){p("submitting"),m(null);try{let e=await es.default.post("/custom/login",{key:l,captcha:c}).then(e=>e.data);if(e?.ok===!1){e?.error=="invalid_captcha"?m("Invalid captcha, please try again"):e?.error=="invalid_credentials"&&m(`${e?.message}. Change them in Configuration`),p("idle"),d(""),await b(l);return}g.current=!0,r(!1);try{let e=await t();a.resolve(e)}catch(e){a.reject(e)}finally{}}catch(e){m(e?.message??"Something went wrong"),p("idle")}}};(0,a.useEffect)(()=>()=>{s&&URL.revokeObjectURL(s)},[s]);let N=(0,a.useMemo)(()=>({challenge:v}),[v]),w="loading"===f,C="submitting"===f,S=w||C;return(0,t.jsxs)(ed.Provider,{value:N,children:[e,(0,t.jsx)(X,{open:n,onOpenChange:y,children:(0,t.jsxs)(ea,{className:"sm:max-w-md",children:[(0,t.jsx)(en,{children:(0,t.jsxs)(er,{children:[l?.toUpperCase()," Login"]})}),(0,t.jsxs)("form",{onSubmit:j,className:"flex flex-col gap-4 mt-3",children:[w?(0,t.jsx)("div",{className:"flex items-center gap-2 text-sm text-muted-foreground",children:(0,t.jsx)(ec,{})}):s?(0,t.jsx)("img",{src:s,alt:"captcha",className:"w-full h-auto rounded border"}):(0,t.jsx)("div",{className:"text-sm text-muted-foreground",children:"Captcha not available."}),(0,t.jsx)(el.Input,{id:"captcha",value:c,onChange:e=>d(e.target.value),placeholder:"Enter captcha",disabled:w}),u?(0,t.jsx)("div",{className:"text-sm text-red-600",dangerouslySetInnerHTML:{__html:u}}):null,(0,t.jsxs)("div",{className:"flex gap-2",children:[(0,t.jsx)(ei.Button,{type:"submit",disabled:S,children:C?(0,t.jsx)("span",{className:"flex items-center gap-2",children:(0,t.jsx)(ec,{size:"sm"})}):"Submit"}),(0,t.jsx)(ei.Button,{type:"button",variant:"outline",onClick:()=>y(!1),disabled:S,children:"Cancel"})]})]})]})})]})},"useCaptcha",0,()=>{let e=(0,a.useContext)(ed);if(!e)throw Error("useCaptcha must be used within CaptchaProvider");return e}],42422);let{Axios:eu,AxiosError:em,CanceledError:ef,isCancel:ep,CancelToken:eh,VERSION:ex,all:eg,Cancel:eb,isAxiosError:ev,spread:ey,toFormData:ej,AxiosHeaders:eN,HttpStatusCode:ew,formToJSON:eC,getAdapter:eS,mergeConfig:eT}=e.i(81949).default;async function eR(e,t,a=es.default){try{return await a.request(e)}catch(n){if(ev(n)&&n.response?.status===501){let r,l=n.response.data;if(l instanceof Blob){let e=JSON.parse(await l.text());r=e?.key}else r=l&&(l.key??l?.key);if(!r)throw n;return t.challenge(r,()=>eR(e,t,a))}throw n}}e.s(["requestWithCaptcha",()=>eR],28001)},36277,e=>{"use strict";var t=e.i(43083),a=e.i(64167),n=e.i(55822),r=e.i(65851),l=e.i(59338);let i=["January","February","March","April","May","June","July","August","September","October","November","December"],s=[2020,2021,2022,2023,2024,2025,2026,2027,2028,2029,2030];function o(e){let o,u,m,f,p,h,x,g,b,v,y,j,N,w,C,S,T,R,_,D,O,I=(0,a.c)(35),{month:E,year:P,onPeriodChange:M,className:k,disabled:F}=e;I[0]===Symbol.for("react.memo_cache_sentinel")?(o=new Date,I[0]=o):o=I[0];let A=o;I[1]!==E?(u="number"==typeof E?E:0===A.getMonth()?12:A.getMonth(),I[1]=E,I[2]=u):u=I[2];let L=u,U=A.getFullYear();I[3]===Symbol.for("react.memo_cache_sentinel")?(m=0===A.getMonth()?U-1:U,I[3]=m):m=I[3];let H=m,[B,W]=(0,n.useState)(L),[$,z]=(0,n.useState)(H);I[4]!==E?(f=()=>{"number"==typeof E&&W(E)},p=[E],I[4]=E,I[5]=f,I[6]=p):(f=I[5],p=I[6]),(0,n.useEffect)(f,p),I[7]!==P?(h=()=>{"number"==typeof P&&z(P)},x=[P],I[7]=P,I[8]=h,I[9]=x):(h=I[8],x=I[9]),(0,n.useEffect)(h,x),I[10]!==B||I[11]!==M||I[12]!==$?(g=()=>{let e,t;if(!M)return;let a=Math.min(12,Math.max(1,Number(B)||1)),n=Math.min(2025,Math.max(2020,Number($)||2020));M((e=String(Math.min(12,Math.max(1,Math.trunc(a)))).padStart(2,"0"),t=String(Math.trunc(n)).padStart(4,"0"),`${e}${t}`),{month:a,year:n})},b=[B,$,M],I[10]=B,I[11]=M,I[12]=$,I[13]=g,I[14]=b):(g=I[13],b=I[14]),(0,n.useEffect)(g,b),I[15]===Symbol.for("react.memo_cache_sentinel")?(v=e=>{W(Number(e))},I[15]=v):v=I[15];let q=v;I[16]===Symbol.for("react.memo_cache_sentinel")?(y=e=>{z(Number(e))},I[16]=y):y=I[16];let V=y;I[17]===Symbol.for("react.memo_cache_sentinel")?(j=(0,t.jsx)(r.Label,{htmlFor:"period-month",className:"mb-2 block",children:"Month"}),I[17]=j):j=I[17];let J=String(B);I[18]===Symbol.for("react.memo_cache_sentinel")?(N=(0,t.jsx)(l.SelectTrigger,{id:"period-month",children:(0,t.jsx)(l.SelectValue,{placeholder:"Month"})}),I[18]=N):N=I[18],I[19]===Symbol.for("react.memo_cache_sentinel")?(w=(0,t.jsx)(l.SelectContent,{children:i.map(d)}),I[19]=w):w=I[19],I[20]!==F||I[21]!==J?(C=(0,t.jsxs)("div",{className:"w-40",children:[j,(0,t.jsxs)(l.Select,{disabled:F,value:J,onValueChange:q,children:[N,w]})]}),I[20]=F,I[21]=J,I[22]=C):C=I[22],I[23]===Symbol.for("react.memo_cache_sentinel")?(S=(0,t.jsx)(r.Label,{htmlFor:"period-year",className:"mb-2 block",children:"Year"}),I[23]=S):S=I[23];let K=String($);return I[24]===Symbol.for("react.memo_cache_sentinel")?(T=(0,t.jsx)(l.SelectTrigger,{id:"period-year",children:(0,t.jsx)(l.SelectValue,{placeholder:"Year"})}),I[24]=T):T=I[24],I[25]===Symbol.for("react.memo_cache_sentinel")?(R=(0,t.jsx)(l.SelectContent,{children:s.map(c)}),I[25]=R):R=I[25],I[26]!==F||I[27]!==K?(_=(0,t.jsxs)("div",{className:"w-32",children:[S,(0,t.jsxs)(l.Select,{disabled:F,value:K,onValueChange:V,children:[T,R]})]}),I[26]=F,I[27]=K,I[28]=_):_=I[28],I[29]!==C||I[30]!==_?(D=(0,t.jsxs)("div",{className:"flex items-end gap-4",children:[C,_]}),I[29]=C,I[30]=_,I[31]=D):D=I[31],I[32]!==k||I[33]!==D?(O=(0,t.jsx)("div",{className:k,children:D}),I[32]=k,I[33]=D,I[34]=O):O=I[34],O}function c(e){return(0,t.jsx)(l.SelectItem,{value:String(e),children:e},e)}function d(e,a){let n=String(a+1);return(0,t.jsx)(l.SelectItem,{value:n,children:e},n)}e.s(["default",()=>o],36277)},59147,e=>{"use strict";var t=e.i(43083),a=e.i(64167),n=e.i(90999);function r(e){let r,l,i,s,o=(0,a.c)(8);return o[0]!==e?({className:r,...l}=e,o[0]=e,o[1]=r,o[2]=l):(r=o[1],l=o[2]),o[3]!==r?(i=(0,n.cn)("w-full caption-bottom text-sm",r),o[3]=r,o[4]=i):i=o[4],o[5]!==l||o[6]!==i?(s=(0,t.jsx)("div",{"data-slot":"table-container",className:"relative w-full overflow-x-auto",children:(0,t.jsx)("table",{"data-slot":"table",className:i,...l})}),o[5]=l,o[6]=i,o[7]=s):s=o[7],s}function l(e){let r,l,i,s,o=(0,a.c)(8);return o[0]!==e?({className:r,...l}=e,o[0]=e,o[1]=r,o[2]=l):(r=o[1],l=o[2]),o[3]!==r?(i=(0,n.cn)("[&_tr]:border-b",r),o[3]=r,o[4]=i):i=o[4],o[5]!==l||o[6]!==i?(s=(0,t.jsx)("thead",{"data-slot":"table-header",className:i,...l}),o[5]=l,o[6]=i,o[7]=s):s=o[7],s}function i(e){let r,l,i,s,o=(0,a.c)(8);return o[0]!==e?({className:r,...l}=e,o[0]=e,o[1]=r,o[2]=l):(r=o[1],l=o[2]),o[3]!==r?(i=(0,n.cn)("[&_tr:last-child]:border-0",r),o[3]=r,o[4]=i):i=o[4],o[5]!==l||o[6]!==i?(s=(0,t.jsx)("tbody",{"data-slot":"table-body",className:i,...l}),o[5]=l,o[6]=i,o[7]=s):s=o[7],s}function s(e){let r,l,i,s,o=(0,a.c)(8);return o[0]!==e?({className:r,...l}=e,o[0]=e,o[1]=r,o[2]=l):(r=o[1],l=o[2]),o[3]!==r?(i=(0,n.cn)("hover:bg-muted/50 data-[state=selected]:bg-muted border-b transition-colors",r),o[3]=r,o[4]=i):i=o[4],o[5]!==l||o[6]!==i?(s=(0,t.jsx)("tr",{"data-slot":"table-row",className:i,...l}),o[5]=l,o[6]=i,o[7]=s):s=o[7],s}function o(e){let r,l,i,s,o=(0,a.c)(8);return o[0]!==e?({className:r,...l}=e,o[0]=e,o[1]=r,o[2]=l):(r=o[1],l=o[2]),o[3]!==r?(i=(0,n.cn)("text-foreground h-10 px-2 text-left align-middle font-medium whitespace-nowrap [&:has([role=checkbox])]:pr-0 [&>[role=checkbox]]:translate-y-[2px]",r),o[3]=r,o[4]=i):i=o[4],o[5]!==l||o[6]!==i?(s=(0,t.jsx)("th",{"data-slot":"table-head",className:i,...l}),o[5]=l,o[6]=i,o[7]=s):s=o[7],s}function c(e){let r,l,i,s,o=(0,a.c)(8);return o[0]!==e?({className:r,...l}=e,o[0]=e,o[1]=r,o[2]=l):(r=o[1],l=o[2]),o[3]!==r?(i=(0,n.cn)("p-2 align-middle whitespace-nowrap [&:has([role=checkbox])]:pr-0 [&>[role=checkbox]]:translate-y-[2px]",r),o[3]=r,o[4]=i):i=o[4],o[5]!==l||o[6]!==i?(s=(0,t.jsx)("td",{"data-slot":"table-cell",className:i,...l}),o[5]=l,o[6]=i,o[7]=s):s=o[7],s}e.s(["Table",()=>r,"TableBody",()=>i,"TableCell",()=>c,"TableHead",()=>o,"TableHeader",()=>l,"TableRow",()=>s])},86631,e=>{"use strict";var t=e.i(43083),a=e.i(64167),n=e.i(55822),r=e.i(53694),l=e.i(8812),i=e.i(42422),s=e.i(28001),o=e.i(36277),c=e.i(97077),d=e.i(59147),u=e.i(65851),m=e.i(59338);function f(){let e,n=(0,a.c)(1);return n[0]===Symbol.for("react.memo_cache_sentinel")?(e=(0,t.jsx)(i.CaptchaProvider,{children:(0,t.jsx)(p,{})}),n[0]=e):e=n[0],e}function p(){let[e,a]=(0,n.useState)(""),[f,p]=(0,n.useState)("all"),[h,x]=(0,n.useState)(null),[g,b]=(0,n.useState)(!1),[v,y]=(0,n.useState)(!1),[j,N]=(0,n.useState)(!1),[w,C]=(0,n.useState)(!1),[S,T]=(0,n.useState)(!1),R=(0,n.useRef)(!1),_=(0,i.useCaptcha)(),D=(0,n.useRef)(0),O=(0,n.useCallback)(async(e,t)=>{let a=++D.current;b(!0);try{let n=await (0,s.requestWithCaptcha)({url:"/einvoice/stats",method:"POST",headers:{"Content-Type":"application/json"},data:{period:e,type:t}},_);if(a!==D.current)return;let r=n.data?.stats;r&&"object"==typeof r&&Array.isArray(r)?x(r):x([])}catch(e){if(a!==D.current)return;alert(e?.message??"Request failed"),x([])}finally{a===D.current&&b(!1)}},[_]);(0,n.useEffect)(()=>{if(!e)return void x(null);if(!R.current){R.current=!0,T(!0),(async()=>{try{await (0,s.requestWithCaptcha)({url:"/einvoice/reload",method:"POST",headers:{"Content-Type":"application/json"},data:{period:e}},_),await O(e,f)}catch(e){alert(e?.message??"Initial IRN load failed")}finally{T(!1)}})();return}O(e,f)},[e,f]);let I=Array.isArray(h)&&h.length>0&&h.some(e=>Number(e.not_filed)>0),E=async t=>{let a=t.data,n=t.headers&&t.headers["content-disposition"]||"",r=/filename\*=UTF-8''([^;]+)|filename="([^"]+)"/i.exec(n||"");console.log("download filename match:",r?.[1]||r?.[2],t.headers);let l=decodeURIComponent(r?.[1]||r?.[2]||`einvoice_${e}.xlsx`),i=URL.createObjectURL(a),s=document.createElement("a");s.href=i,s.download=l,document.body.appendChild(s),s.click(),s.remove(),URL.revokeObjectURL(i)},P=async()=>{if(I){y(!0);try{let t=await (0,s.requestWithCaptcha)({url:"/einvoice/file",method:"POST",headers:{"Content-Type":"application/json"},data:{period:e,type:f},responseType:"blob"},_);await E(t),await O(e,f)}catch(e){alert(e?.message??"Filing failed")}finally{y(!1)}}},M=async()=>{if(e){N(!0);try{let t=await c.default.post("/einvoice/excel",{period:e,type:f},{responseType:"blob"});await E(t)}catch(e){alert(e?.message??"Download failed")}finally{N(!1)}}},k=async()=>{if(e){C(!0);try{let t=await (0,s.requestWithCaptcha)({url:"/einvoice/pdf",method:"POST",headers:{"Content-Type":"application/json"},responseType:"blob",data:{period:e,type:f}},_);await E(t)}catch(e){console.log(e),alert(e?.message??"Download failed")}finally{C(!1)}}},F=async()=>{if(e){T(!0);try{await (0,s.requestWithCaptcha)({url:"/einvoice/reload",method:"POST",headers:{"Content-Type":"application/json"},data:{period:e}},_)}catch(e){alert("Load IRNs failed"),console.log(e)}finally{await O(e,f),T(!1)}}};return(0,t.jsx)("div",{className:"container mx-auto max-w-xl p-4",children:(0,t.jsxs)(l.Card,{children:[(0,t.jsxs)(l.CardHeader,{className:"flex flex-row items-center justify-between",children:[(0,t.jsx)(l.CardTitle,{children:"E-Invoice"}),(0,t.jsx)(r.Button,{variant:"outline",size:"sm",onClick:F,disabled:!e||S||g,children:S?"Loading IRN...":"Load IRN"})]}),(0,t.jsxs)(l.CardContent,{children:[(0,t.jsx)("div",{className:"space-y-6",children:(0,t.jsxs)("div",{className:"flex flex-col sm:flex-row gap-4",children:[(0,t.jsx)(o.default,{className:"flex-1",onPeriodChange:e=>a(e)}),(0,t.jsxs)("div",{className:"flex-1 space-y-2",children:[(0,t.jsx)(u.Label,{htmlFor:"einvoice-type",children:"Type"}),(0,t.jsxs)(m.Select,{value:f,onValueChange:p,children:[(0,t.jsx)(m.SelectTrigger,{id:"einvoice-type",children:(0,t.jsx)(m.SelectValue,{placeholder:"Select type"})}),(0,t.jsxs)(m.SelectContent,{children:[(0,t.jsx)(m.SelectItem,{value:"all",children:"All"}),(0,t.jsx)(m.SelectItem,{value:"damage",children:"Damage"}),(0,t.jsx)(m.SelectItem,{value:"sales",children:"Sales"}),(0,t.jsx)(m.SelectItem,{value:"salesreturn",children:"SalesReturn"})]})]})]})]})}),g||S?(0,t.jsx)("div",{className:"mt-6",children:(0,t.jsxs)(d.Table,{children:[(0,t.jsx)(d.TableHeader,{children:(0,t.jsxs)(d.TableRow,{children:[(0,t.jsx)(d.TableHead,{children:"Company"}),(0,t.jsx)(d.TableHead,{children:"Type"}),(0,t.jsx)(d.TableHead,{className:"text-right",children:"Amount (Not Filed)"}),(0,t.jsx)(d.TableHead,{className:"text-right",children:"Filed"}),(0,t.jsx)(d.TableHead,{className:"text-right",children:"Not Filed"})]})}),(0,t.jsx)(d.TableBody,{children:Array.from({length:5}).map((e,a)=>(0,t.jsxs)(d.TableRow,{children:[(0,t.jsx)(d.TableCell,{children:(0,t.jsx)("div",{className:"h-4 rounded bg-muted animate-pulse"})}),(0,t.jsx)(d.TableCell,{children:(0,t.jsx)("div",{className:"h-4 rounded bg-muted animate-pulse"})}),(0,t.jsx)(d.TableCell,{className:"text-right",children:(0,t.jsx)("div",{className:"h-4 rounded bg-muted animate-pulse"})}),(0,t.jsx)(d.TableCell,{className:"text-right",children:(0,t.jsx)("div",{className:"h-4 rounded bg-muted animate-pulse"})}),(0,t.jsx)(d.TableCell,{className:"text-right",children:(0,t.jsx)("div",{className:"h-4 rounded bg-muted animate-pulse"})})]},a))})]})}):Array.isArray(h)&&(0,t.jsx)("div",{className:"mt-6",children:0===h.length?(0,t.jsx)("div",{className:"text-sm text-muted-foreground",children:"No data"}):(0,t.jsxs)(t.Fragment,{children:[(0,t.jsxs)(d.Table,{children:[(0,t.jsx)(d.TableHeader,{children:(0,t.jsxs)(d.TableRow,{children:[(0,t.jsx)(d.TableHead,{children:"Company"}),(0,t.jsx)(d.TableHead,{children:"Type"}),(0,t.jsx)(d.TableHead,{className:"text-right",children:"Amount (Not Filed)"}),(0,t.jsx)(d.TableHead,{className:"text-right",children:"Filed"}),(0,t.jsx)(d.TableHead,{className:"text-right",children:"Not Filed"})]})}),(0,t.jsx)(d.TableBody,{children:h.map(e=>(0,t.jsxs)(d.TableRow,{className:0==e.not_filed?"text-gray-600":"",children:[(0,t.jsx)(d.TableCell,{children:e.company}),(0,t.jsx)(d.TableCell,{children:e.type}),(0,t.jsx)(d.TableCell,{className:"text-right",children:e.amt}),(0,t.jsx)(d.TableCell,{className:`text-right  ${e.not_filed>0&&"font-medium text-green-600"}`,children:e.filed}),(0,t.jsx)(d.TableCell,{className:`text-right  ${e.not_filed>0&&"font-medium text-red-600"}`,children:e.not_filed})]},e.company+e.type))})]}),(0,t.jsx)("div",{className:"mt-4 flex items-center justify-between",children:"all"===f?(0,t.jsx)("span",{className:"text-gray-500 font-bold text-sm",children:"Please go to respective invoice types to file einvoice"}):(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(r.Button,{variant:"outline",onClick:k,disabled:"damage"!=f||w||!h?.length,children:w?"Downloading...":"Download PDF"}),(0,t.jsxs)("div",{className:"flex gap-2",children:[(0,t.jsx)(r.Button,{variant:"outline",onClick:M,disabled:j||!h?.length,children:j?"Downloading...":"Download Excel"}),I&&(0,t.jsx)(r.Button,{onClick:P,disabled:v,children:v?"Filing...":"File E-Invoice"})]})]})})]})})]})]})})}e.s(["default",()=>f])}]);